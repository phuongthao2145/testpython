{% extends "demo/base.html" %}
{% block title %}Detail{% endblock %}

{% block content %}
<h2>Thông tin {{ id.name}}</h2>
<div style="overflow-x:auto;">
    <table class="table table-striped table-hover ">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Patientcode</th>
        <th scope="col">Name</th>
        <th scope="col">Status</th>
        <th scope="col">F0</th>
        <th scope="col">F1</th>
        <th scope="col">F2</th>
        <th scope="col">Phone</th>
        <th scope="col">Address</th>
        <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="field-id">{{ id.id }}</td>
        <td class="field-patientcode">
           {{ id.patientcode }}
        </td>
        <td class="field-name">{{ id.name }}</td>
        <td class="field-status">{{ id.status }}</td>
        <td class="field-f0 nowrap">
            {% if id.f0 %}
            {{ id.f0.name }}
            {% endif %}
        </td>
        <td class="field-f1 nowrap">
            {% if id.f1 %}
            {{ id.f1.name }}
            {% endif %}
        </td>
        <td class="field-f2 nowrap">
            {% if id.f2 %}
            {{ id.f2.name }}
            {% endif %}
        </td>
        <td class="field-phone">{{ id.phone }}</td>
        <td class="field-address">{{ id.address }}</td>
        <td><a href="{% url 'demo:updateStatus' id.id %}"
               class="update" data-bs-toggle="tooltip"
               data-bs-placement="top" title="Chuyển sang F0">> F0</a></td>
    </tr>
    </tbody>
</table>
</div>
<h2>
    {% if id.status == "F0" %}
    F1 và F2 của {{ id.name }}
    {% elif id.status == "F1" %}
    F2 của {{ id.name }}
    {% endif %}
</h2>
<div style="overflow-x:auto;">
    <table class="table table-striped table-hover ">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Patientcode</th>
        <th scope="col">Name</th>
        <th scope="col">Status</th>
        <th scope="col">F0</th>
        <th scope="col">F1</th>
        <th scope="col">F2</th>
        <th scope="col">Phone</th>
        <th scope="col">Address</th>
    </tr>
    </thead>
    <tbody>

    {% for row in users %}
    <tr>
        <td class="field-id">{{ row.id }}</td>
        <td class="field-patientcode">
            <a href="{% url 'demo:detail' row.patientcode %}">{{ row.patientcode }}</a>
        </td>
        <td class="field-name">{{ row.name }}</td>
        <td class="field-status">{{ row.status }}</td>
        <td class="field-f0 nowrap">
            {% if row.f0 %}
            {{ row.f0.name }}
            {% endif %}
        </td>
        <td class="field-f1 nowrap">
            {% if row.f1 %}
            {{ row.f1.name }}
            {% endif %}
        </td>
        <td class="field-f2 nowrap">
            {% if row.f2 %}
            {{ row.f2.name }}
            {% endif %}
        </td>
        <td class="field-phone">{{ row.phone }}</td>
        <td class="field-address">{{ row.address }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
</div>
<p class="paginator">
     <span class="step-links">
        {% if users.has_previous %}
            <a href="?page={{ users.previous_page_number }}">Previous</a>
        {% endif %}
    </span>
    <span class="current">
        Page {{ users.number }} of {{ users.paginator.num_pages }}.
    </span>
    <span>
        {% if users.has_next %}
            <a href="?page={{ users.next_page_number }}">Next</a>
        {% endif %}
    </span>
</p>
{% endblock %}
{% block chart %}
<div class="breadcrumbs">
    <i class="fas fa-chart-pie" id="pie"></i>
    <i class="fas fa-chart-bar" id="bar"></i>
</div>
<div id="chart"></div>

{% endblock%}